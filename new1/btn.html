<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link href="css/css2.css" rel="stylesheet" type="text/css">
</head>
<body>
			<div class="content">
				<div class="slide-box" id="pic1">
					<ul class="slide-list slide-list2">
						<li class="carousel-list-1 po-1" data-order="1">
							<img src="zb/g1.gif" alt="">
						</li>
						<li class="carousel-list-2 po-2" data-order="2">
							<img src="zb/g2.gif" alt="">
						</li>
						<li class="carousel-list-3 po-3" data-order="3">
							<img src="zb/g1.gif" alt="">
						</li>
						<li class="carousel-list-4 po-4" data-order="4">
							<img src="zb/g2.gif" alt="">
						</li>
					</ul>
					<span class="btn p9-prev btn-arrow2" data-direction="left"></span>
					<span class="btn p9-next btn-arrow2" data-direction="right"></span>
					<ul class="dot-list">
						<li class="sp cur"></li>
						<li class="sp"></li>
						<li class="sp"></li>
						<li class="sp"></li>
					</ul>
				</div>
			</div>
			
          
<script src="https://ossweb-img.qq.com/images/js/jquery/jquery-1.9.1.min.js"></script>

<script>
var carousel = function (obj) {
    this.container = $(obj.container),
        this.count = obj.count,
        this.defaultSrc = obj.defaultSrc,
        this.picType = obj.picType,
        this.classname = obj.classname,
        this.tab = $(obj.tab),
        this.tabIndex = 0,
        this.timer = null;
}

carousel.prototype = {
    autoplay: function () {
        var _this = this;
        this.timer = setInterval(function () {
            _this.turnLeft();
        }, 2500);
    },
    endplay: function () {
        clearInterval(this.timer);
    },
    init: function () {
        var _this = this
        $('.' + _this.classname).on('click', function (event) {
            _this.endplay();
            event.preventDefault();
            var direction = $(this).attr('data-direction');
            if (direction == 'left') {
                _this.turnLeft()
            } else {
                _this.turnRight()
            }
        })
        _this.autoplay();
    },
    turnLeft: function () {
        var _this = this;
        this.tabIndex++;
        this.tabIndex = this.tabIndex > (_this.count-1) ? 0 : this.tabIndex;
        this.defaultFun('left');
    },
    turnRight: function () {
        var _this = this;
        this.tabIndex--;
        this.tabIndex = this.tabIndex < 0 ? (_this.count-1) : this.tabIndex;
        this.defaultFun('right')
    },
    defaultFun: function (direction) {
        var _this = this;
        this.tab.find('li').removeClass('cur').eq(this.tabIndex).addClass('cur');
        $(this.container).find('li').each(function () {
            var old_order = $(this).attr('data-order');
            if (direction == 'left') {
                old_order--;
            }
            if (direction == 'right') {
                old_order++;
            }
            if (old_order == (_this.count+1)) {
                old_order = 1;
            }
            if (old_order == 0) {
                old_order = _this.count;
            }
            $(this).removeClass('po-1 po-2 po-3 po-4')
            $(this).addClass('po-' + old_order);
            $(this).attr({
                'data-order': old_order
            });
        })
    }
}


var ex1 = new carousel({
    container: '.slide-list2',
    count: 4, 
    defaultSrc: 'https://game.gtimg.cn/images/kok/web201811/index/',
    picType: 'jpg',
    classname: 'btn-arrow2',
    tab: '.dot-list'
});
ex1.init();

</script>
</body>
</html>